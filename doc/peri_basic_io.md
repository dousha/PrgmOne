# 外设 - 基本输入输出装置

## 概述

此外设提供基本的输入输出功能。

## 组件

| 组件名		| 允许的位置		|
| ------------- | ----------------- |
| 唱片机		| 所有 26 个位置	|

## 协议

本外设使用通用的外设通信方式。

### 聊天输出

聊天输出将向运行程序的玩家发送信息。

```
--> print;<输出内容>
<-- 0
```

### 聊天输入

聊天输入将从运行程序的玩家获取一行聊天信息。

```
--> read;{提示信息}
<-- <获取的信息>
```

### 磁盘读取

磁盘读取将从插入的磁盘中顺序读取一定字节。

如果尝试读取的偏移量超过磁盘大小，则会发生截断。

```
--> fread;<偏移量>;<字节数>
<-- <读取的内容>
```

### 磁盘写入

磁盘写入将向插入的磁盘中写入给定数据。

如果尝试写入的偏移量超过磁盘大小，则会发生截断。

```
--> fwrite;<偏移量>;<数据>
<-- <实际写入的字节数>
```

### 磁盘大小检测

磁盘大小检测将检测插入的磁盘的容量大小。

如果当前没有插入磁盘或插入了损坏的磁盘，则返回 0.

```
--> fprobe
<-- <插入磁盘的大小 (KiB)>
```

## 限制

* 本外设的聊天输出功能的最大操作频率为 1Hz.


